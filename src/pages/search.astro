---
import BaseLayout from '../layouts/BaseLayout.astro';
import { useTranslations } from '../i18n';

const t = useTranslations('en');
---

<BaseLayout 
  title="Search | Narcolepsy Hypothesis" 
  description="Search all content on the Narcolepsy Hypothesis website - scientific evidence, ganglioside biology, genetic factors, and more."
>
  <main class="max-w-4xl mx-auto px-4 py-12">
    <h1 class="text-4xl font-bold text-slate-900 mb-4">Search</h1>
    <p class="text-lg text-slate-600 mb-8">
      Search all pages, scientific content, and references on this site.
    </p>
    
    <div id="search" class="mb-12"></div>
    
    <div class="bg-blue-50 border border-blue-200 rounded-lg p-6">
      <h2 class="text-lg font-semibold text-blue-900 mb-2">Search Tips</h2>
      <ul class="text-blue-800 space-y-1">
        <li>• Search for topics: <em>ganglioside</em>, <em>GT1b</em>, <em>orexin</em></li>
        <li>• Search for mechanisms: <em>molecular mimicry</em>, <em>axonal transport</em></li>
        <li>• Search for genes: <em>HLA</em>, <em>B3GALT4</em>, <em>DQB1</em></li>
        <li>• Search for conditions: <em>narcolepsy</em>, <em>Pandemrix</em>, <em>encephalitis</em></li>
      </ul>
    </div>
  </main>
</BaseLayout>

<link href="/pagefind/pagefind-ui.css" rel="stylesheet">
<script src="/pagefind/pagefind-ui.js" is:inline></script>

<script is:inline>
  window.addEventListener('DOMContentLoaded', () => {
    new PagefindUI({
      element: "#search",
      showSubResults: true,
      showImages: false,
      translations: {
        placeholder: "Search the hypothesis...",
        zero_results: "No results for [SEARCH_TERM]",
        many_results: "[COUNT] results for [SEARCH_TERM]",
        one_result: "1 result for [SEARCH_TERM]",
        clear_search: "Clear",
        load_more: "Load more results",
        search_label: "Search this site",
        filters_label: "Filters",
      }
    });
  });
</script>

<style is:global>
  .pagefind-ui {
    --pagefind-ui-scale: 1;
    --pagefind-ui-primary: #1e40af;
    --pagefind-ui-text: #1f2937;
    --pagefind-ui-background: #ffffff;
    --pagefind-ui-border: #e5e7eb;
    --pagefind-ui-tag: #dbeafe;
    --pagefind-ui-border-width: 2px;
    --pagefind-ui-border-radius: 8px;
    --pagefind-ui-font: inherit;
  }
  
  .pagefind-ui__search-input {
    font-size: 1.125rem !important;
    padding: 1rem 1.25rem 1rem 3rem !important;
  }
  
  .pagefind-ui__search-clear {
    right: 1rem !important;
  }
  
  .pagefind-ui__result-link {
    font-weight: 600 !important;
    color: #1e40af !important;
  }
  
  .pagefind-ui__result-link:hover {
    text-decoration: underline !important;
  }
  
  .pagefind-ui__result-excerpt {
    color: #4b5563 !important;
  }
</style>
